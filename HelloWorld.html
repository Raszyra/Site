<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hello World Card Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    header {
      padding: 10px;
      background: #4a90e2;
      color: white;
      width: 100%;
      text-align: center;
    }
    #gameArea {
      flex: 1;
      width: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
    }
    .hand {
      display: flex;
      margin: 10px;
      flex-wrap: wrap;
    }
    .card {
      border: 1px solid #333;
      border-radius: 6px;
      background: white;
      padding: 8px;
      margin: 5px;
      width: 100px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .card:hover {
      transform: scale(1.05);
      background: #e9f3ff;
    }
    .controls {
      margin: 10px;
    }
    .infoBox, .rulesBox, .logBox {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px;
      margin: 5px;
      width: 95%;
    }
    .rulesBox, .logBox {
      position: fixed;
      bottom: 0;
      background: #fafafa;
      max-height: 150px;
      overflow-y: auto;
      font-size: 14px;
    }
    .rulesBox {
      left: 0;
      width: 50%;
    }
    .logBox {
      right: 0;
      width: 50%;
    }
    .infoBox {
      margin-top: 10px;
      text-align: left;
    }
    #gameLog p {
      margin: 3px 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>Hello World Card Game</h1>
  </header>

  <div id="gameArea">
    <div class="controls">
      <label>Players:
        <input type="number" id="numPlayers" min="2" max="6" value="3">
      </label>
      <label>Hand Size:
        <input type="number" id="handSize" min="3" max="10" value="8">
      </label>
      <button onclick="newGame()">New Game</button>
      <button onclick="passTurn()">Pass Turn</button>
      <button onclick="drawCard('main')">Draw Main</button>
      <button onclick="drawCard('language')">Draw Language</button>
    </div>

    <div id="handsContainer"></div>

    <div class="infoBox" id="cardDetails">
      <h3>Card Details</h3>
      <p>Select a card to see details here.</p>
    </div>
  </div>

  <div class="rulesBox">
    <h3>Rules</h3>
    <ul>
      <li>Each player starts with a full hand.</li>
      <li>On your turn, you may:</li>
      <ul>
        <li>Draw from the main deck</li>
        <li>Draw from the language deck</li>
        <li>Play one card of each type</li>
        <li>Or pass your turn</li>
      </ul>
      <li>Hands have a maximum size.</li>
    </ul>
  </div>

  <div class="logBox">
    <h3>Game Log</h3>
    <div id="gameLog"></div>
  </div>

  <script>
    let players = [];
    let currentPlayer = 0;
    let mainDeck = [];
    let languageDeck = [];
    let handSize = 8;

    function createDeck(type) {
      let deck = [];
      for (let i = 1; i <= 20; i++) {
        deck.push({ 
          type: type, 
          name: `${type} Card ${i}`, 
          effect: `Effect of ${type} card ${i}` 
        });
      }
      return deck;
    }

    function shuffle(deck) {
      for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
      }
      return deck;
    }

    function newGame() {
      const numPlayers = parseInt(document.getElementById("numPlayers").value);
      handSize = parseInt(document.getElementById("handSize").value);

      players = Array.from({ length: numPlayers }, () => ({ hand: [] }));
      currentPlayer = 0;
      mainDeck = shuffle(createDeck("Main"));
      languageDeck = shuffle(createDeck("Language"));

      for (let p of players) {
        for (let i = 0; i < handSize; i++) {
          p.hand.push(mainDeck.pop());
        }
      }

      renderHands();
      logAction("New game started with " + numPlayers + " players.");
    }

    function renderHands() {
      const container = document.getElementById("handsContainer");
      container.innerHTML = "";
      players.forEach((player, idx) => {
        const handDiv = document.createElement("div");
        handDiv.className = "hand";
        handDiv.innerHTML = `<h3>Player ${idx + 1} ${idx === currentPlayer ? "(Current)" : ""}</h3>`;
        player.hand.forEach(card => {
          const cardDiv = document.createElement("div");
          cardDiv.className = "card";
          cardDiv.textContent = card.name;
          cardDiv.onclick = () => showCardDetails(card);
          handDiv.appendChild(cardDiv);
        });
        container.appendChild(handDiv);
      });
    }

    function drawCard(deckType) {
      const deck = deckType === "main" ? mainDeck : languageDeck;
      if (deck.length === 0) {
        logAction("No cards left in " + deckType + " deck!");
        return;
      }
      const card = deck.pop();
      players[currentPlayer].hand.push(card);
      renderHands();
      logAction("Player " + (currentPlayer + 1) + " drew a " + deckType + " card.");
    }

    function passTurn() {
      currentPlayer = (currentPlayer + 1) % players.length;
      renderHands();
      logAction("Turn passed to Player " + (currentPlayer + 1));
    }

    function showCardDetails(card) {
      const box = document.getElementById("cardDetails");
      box.innerHTML = `<h3>${card.name}</h3><p>Type: ${card.type}</p><p>${card.effect}</p>`;
    }

    function logAction(text) {
      const log = document.getElementById("gameLog");
      const entry = document.createElement("p");
      entry.textContent = text;
      log.appendChild(entry);
      log.scrollTop = log.scrollHeight;
    }
  </script>
</body>
</html>
