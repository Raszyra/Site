<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hello, World! Prototype</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 20px; }
  #game { display: flex; gap: 20px; }
  .deck, .hand, .playarea { border: 1px solid #ccc; padding: 10px; background: #fff; border-radius: 8px; min-width: 200px; }
  .card { border: 1px solid #999; border-radius: 5px; padding: 5px; margin: 5px; cursor: pointer; }
  .card.Function { background: #f88; }
  .card.Variable { background: #88f; }
  .card.Loop { background: #f90; }
  .card.Library { background: #8f8; }
  .card.Bonus { background: #ff8; }
  .card.Bug { background: #333; color: #fff; }
  .card.Event { background: #0ff; }
</style>
</head>
<body>
<h1>Hello, World! Prototype</h1>
<div id="game">
  <div class="deck">
    <h3>Main Deck</h3>
    <button id="drawMain">Draw Card</button>
    <div id="mainDeck"></div>
  </div>

  <div class="hand">
    <h3>Your Hand</h3>
    <div id="playerHand"></div>
  </div>

  <div class="playarea">
    <h3>Programs Played</h3>
    <div id="playArea"></div>
    <button id="completeProgram">Complete Program</button>
  </div>
</div>

<script>
const mainDeck = [];
const playerHand = [];
const playArea = [];

// Card types
const CARD_TYPES = ['Function', 'Variable', 'Loop', 'Library', 'Bonus', 'Bug', 'Event'];

// Sample cards (you can fill in the rest according to your spec)
function createSampleDeck() {
    for (let i = 1; i <= 12; i++) mainDeck.push({type: 'Variable', name: `Integer ${i}`, value: i});
    for (let i = 1; i <= 5; i++) mainDeck.push({type: 'Variable', name: `String ${i}`, value: i*2});
    mainDeck.push({type: 'Function', name: 'Assign'});
    mainDeck.push({type: 'Function', name: 'Evaluate'});
    mainDeck.push({type: 'Loop', name: 'For'});
    mainDeck.push({type: 'Library', name: 'IOstream'});
    mainDeck.push({type: 'Bonus', name: 'Backup Save', points: 10});
    mainDeck.push({type: 'Bug', name: 'Segmentation Fault'});
    mainDeck.push({type: 'Event', name: 'Servers Down'});
}
createSampleDeck();
shuffle(mainDeck);

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

// Draw a card
document.getElementById('drawMain').onclick = () => {
    if (playerHand.length >= 8) return alert('Hand is full!');
    const card = mainDeck.pop();
    if (card) {
        playerHand.push(card);
        renderHand();
    } else {
        alert('Deck empty!');
    }
};

function renderHand() {
    const handDiv = document.getElementById('playerHand');
    handDiv.innerHTML = '';
    playerHand.forEach((card, idx) => {
        const c = document.createElement('div');
        c.className = `card ${card.type}`;
        c.textContent = card.name;
        c.onclick = () => playCard(idx);
        handDiv.appendChild(c);
    });
}

function playCard(index) {
    const card = playerHand.splice(index, 1)[0];
    playArea.push(card);
    renderHand();
    renderPlayArea();
}

function renderPlayArea() {
    const areaDiv = document.getElementById('playArea');
    areaDiv.innerHTML = '';
    playArea.forEach(card => {
        const c = document.createElement('div');
        c.className = `card ${card.type}`;
        c.textContent = card.name;
        areaDiv.appendChild(c);
    });
}

document.getElementById('completeProgram').onclick = () => {
    let score = 0;
    let functions = playArea.filter(c => c.type === 'Function');
    let variables = playArea.filter(c => c.type === 'Variable');
    if (functions.length === 0) return alert('You need at least one Function to complete a program!');
    variables.forEach(v => score += v.value || 0);
    alert(`Program completed! Score: ${score}`);
    playArea.length = 0;
    renderPlayArea();
};

// Initial render
renderHand();
renderPlayArea();
</script>
</body>
</html>
